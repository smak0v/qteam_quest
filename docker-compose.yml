version: '3'

services:
  web:
    container_name: qteam_quest
    build: .
    command: gunicorn -b 0.0.0.0:8000 qteam_quest.wsgi:application
    restart: always
    depends_on:
      - postgres
    volumes:
      - .:/usr/src/qteam_quest
    ports:
      - "8000:8000"
    env_file:
      - .env

  postgres:
    container_name: postgres
    image: postgres:12.1-alpine
    restart: always
    env_file:
      - .env